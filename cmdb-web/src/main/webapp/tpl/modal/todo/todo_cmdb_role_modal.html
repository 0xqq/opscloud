<div class="modal-header">
    <h3 class="modal-title">
        <b style="color: #286090">{{todoItem.title}}</b>工单
    </h3>
    <div>
        <b ng-show="todoItem.todoType == 0" class="pull-left">运维类工单</b>
        <i uib-popover-html="assigneeUsersInfo" popover-trigger="'mouseenter'" popover-placement="bottom"
           class="icon icon-info" style="color: green;"></i>
    </div>
</div>
<div class="modal-body">
    <div style="margin-top: 5px;">
        <table class="table table-hover table-bordered table-striped">
            <thead>
            <tr>
                <td>名称</td>
                <td>描述</td>
                <td>授权</td>
                <td ng-show="todoDetail.todoStatus == 0" >操作</td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>devFt
                </td>
                <td>前端(ft)持续集成权限
                </td>
                <td>
                    <b style="color: #449d44" ng-if="todoDetail.cmdbRoleMap.isDevFt == true">已授权</b>
                    <span style="color: #777" ng-if="todoDetail.cmdbRoleMap.isDevFt == false">未授权</span>
                    <b style="color: #449d44" class="pull-right" ng-if="todoDetail.cmdbRoleMap.devFt == true">已申请授权</b>
                </td>
                <td ng-show="todoDetail.todoStatus == 0">
                <span class="glyphicon glyphicon-plus pull-left"
                      ng-show="todoDetail.cmdbRoleMap.isDevFt == false  && todoDetail.cmdbRoleMap.devFt == false"
                      style="color: #449d44"
                      uib-popover-html="'申请授权'" popover-trigger="'mouseenter'"
                      ng-click="setItem('devFt')">
                </span>
                    <span class="glyphicon glyphicon-remove pull-right" ng-show="todoDetail.cmdbRoleMap.devFt == true"
                          style="color: #d9534f"
                          uib-popover-html="'撤销申请'" popover-trigger="'mouseenter'"
                          ng-click="setItem('devFt')">
                </span>
                </td>
            </tr>
            <tr>
                <td>devAndroid
                </td>
                <td>Android持续集成权限
                </td>
                <td>
                    <b style="color: #449d44" ng-if="todoDetail.cmdbRoleMap.isDevAndroid == true">已授权</b>
                    <span style="color: #777" ng-if="todoDetail.cmdbRoleMap.isDevAndroid == false">未授权</span>
                    <b style="color: #449d44" class="pull-right" ng-if="todoDetail.cmdbRoleMap.devAndroid == true">已申请授权</b>
                </td>
                <td ng-show="todoDetail.todoStatus == 0">
                <span class="glyphicon glyphicon-plus pull-left"
                      ng-show="todoDetail.cmdbRoleMap.isDevAndroid == false  && todoDetail.cmdbRoleMap.devAndroid == false"
                      style="color: #449d44"
                      uib-popover-html="'申请授权'" popover-trigger="'mouseenter'"
                      ng-click="setItem('devAndroid')">
                </span>
                    <span class="glyphicon glyphicon-remove pull-right"
                          ng-show="todoDetail.cmdbRoleMap.devAndroid == true"
                          style="color: #d9534f"
                          uib-popover-html="'撤销申请'" popover-trigger="'mouseenter'"
                          ng-click="setItem('devAndroid')">
                </span>
                </td>
            </tr>
            <tr>
                <td>devIos
                </td>
                <td>iOS持续集成权限
                </td>
                <td>
                    <b style="color: #449d44" ng-if="todoDetail.cmdbRoleMap.isDevIos == true">已授权</b>
                    <span style="color: #777" ng-if="todoDetail.cmdbRoleMap.isDevIos == false">未授权</span>
                    <b style="color: #449d44" class="pull-right" ng-if="todoDetail.cmdbRoleMap.devIos == true">已申请授权</b>
                </td>
                <td ng-show="todoDetail.todoStatus == 0">
                <span class="glyphicon glyphicon-plus pull-left"
                      ng-show="todoDetail.cmdbRoleMap.isDevIos == false  && todoDetail.cmdbRoleMap.devIos == false"
                      style="color: #449d44"
                      uib-popover-html="'申请授权'" popover-trigger="'mouseenter'"
                      ng-click="setItem('devIos')">
                </span>
                    <span class="glyphicon glyphicon-remove pull-right"
                          ng-show="todoDetail.cmdbRoleMap.devIos == true"
                          style="color: #d9534f"
                          uib-popover-html="'撤销申请'" popover-trigger="'mouseenter'"
                          ng-click="setItem('devIos')">
                </span>
                </td>
            </tr>
            <tr>
                <td>qa
                </td>
                <td>QA自动化测试管理
                </td>
                <td>
                    <b style="color: #449d44" ng-if="todoDetail.cmdbRoleMap.isQa == true">已授权</b>
                    <span style="color: #777" ng-if="todoDetail.cmdbRoleMap.isQa == false">未授权</span>
                    <b style="color: #449d44" class="pull-right" ng-if="todoDetail.cmdbRoleMap.qa == true">已申请授权</b>
                </td>
                <td ng-show="todoDetail.todoStatus == 0">
                <span class="glyphicon glyphicon-plus pull-left"
                      ng-show="todoDetail.cmdbRoleMap.isQa == false  && todoDetail.cmdbRoleMap.qa == false"
                      style="color: #449d44"
                      uib-popover-html="'申请授权'" popover-trigger="'mouseenter'"
                      ng-click="setItem('qa')">
                </span>
                    <span class="glyphicon glyphicon-remove pull-right"
                          ng-show="todoDetail.cmdbRoleMap.qa == true"
                          style="color: #d9534f"
                          uib-popover-html="'撤销申请'" popover-trigger="'mouseenter'"
                          ng-click="setItem('qa')">
                </span>
                </td>
            </tr>
            </tbody>
        </table>

    </div>

    <div class="form-group">
        <div style="text-align:center;">
            <button class="btn btn-xs" ng-show="todoDetail.todoStatus == 0"
                    style="background-color: #2e6da4; color: white;"
                    ng-click="submitTodo()">提交
            </button>
        </div>

        <div style="text-align:center;">
            <button class="btn btn-xs" ng-show="todoDetail.todoStatus != 0"
                    style="background-color: #2e6da4; color: white;"
                    ng-click="closeModal()">关闭
            </button>
        </div>
    </div>

    <div ng-if="alert.type != ''">
        <div uib-alert ng-class="'alert-' + alert.type" close="closeAlert()">{{alert.msg}}</div>
    </div>

</div>